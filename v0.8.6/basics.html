<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Basic concepts · Luxor</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/highlightjs/default.css" rel="stylesheet" type="text/css"/><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="index.html"><img class="logo" src="assets/logo.png" alt="Luxor logo"/></a><h1>Luxor</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" action="search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="index.html">Introduction to Luxor</a></li><li><a class="toctext" href="examples.html">A few examples</a></li><li class="current"><a class="toctext" href="basics.html">Basic concepts</a><ul class="internal"><li><a class="toctext" href="#Points-and-coordinates-1">Points and coordinates</a></li><li><a class="toctext" href="#Drawings-and-files-1">Drawings and files</a></li><li><a class="toctext" href="#The-drawing-surface-1">The drawing surface</a></li><li><a class="toctext" href="#Tiles-and-partitions-1">Tiles and partitions</a></li><li><a class="toctext" href="#Save-and-restore-1">Save and restore</a></li></ul></li><li><a class="toctext" href="simplegraphics.html">Simple graphics</a></li><li><a class="toctext" href="colors-styles.html">Colors and styles</a></li><li><a class="toctext" href="polygons.html">Polygons</a></li><li><a class="toctext" href="text.html">Text</a></li><li><a class="toctext" href="transforms.html">Transforms and matrices</a></li><li><a class="toctext" href="clipping.html">Clipping</a></li><li><a class="toctext" href="images.html">Images</a></li><li><a class="toctext" href="turtle.html">Turtle graphics</a></li><li><a class="toctext" href="animation.html">Animation</a></li><li><a class="toctext" href="moreexamples.html">More examples</a></li><li><a class="toctext" href="functionindex.html">Index</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href="basics.html">Basic concepts</a></li></ul><a class="edit-page" href="https://github.com/JuliaGraphics/Luxor.jl/tree/18f71b83cdbaeaf69755c67d657d48f15a8e2b1b/docs/src/basics.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Basic concepts</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="The-basics-1" href="#The-basics-1">The basics</a></h1><p>The underlying drawing model is that you make shapes, or add points to paths, and these are filled and/or stroked, using the current <em>graphics state</em>, which specifies colors, line thicknesses, and opacity. You can modify the drawing space by transforming/rotating/scaling it, which affects subsequent graphics but not the ones you&#39;ve already drawn.</p><p>A position is specified either by a <code>Point(x, y)</code> or by separate x and y coordinates.</p><p>The default origin is at the top left of the drawing area, but you can reposition it at any time.</p><p>Many of the drawing functions have an <em>action</em> argument. This can be <code>:nothing</code>, <code>:fill</code>, <code>:stroke</code>, <code>:fillstroke</code>, <code>:fillpreserve</code>, <code>:strokepreserve</code>, <code>:clip</code>. The default is <code>:nothing</code>.</p><p>The main defined types are <code>Point</code>, <code>Drawing</code>, and <code>Tiler</code>.  <code>Drawing</code> is how you create new drawings. You can divide up the drawing area into tiles, using <code>Tiler</code>, and define grids, using <code>GridRect</code> and <code>GridHex</code>.</p><h2><a class="nav-anchor" id="Points-and-coordinates-1" href="#Points-and-coordinates-1">Points and coordinates</a></h2><p>The Point type holds two coordinates, <code>x</code> and <code>y</code>. For example:</p><pre><code class="language-none">julia&gt; P = Point(12.0, 13.0)
Luxor.Point(12.0, 13.0)

julia&gt; P.x
12.0

julia&gt; P.y
13.0</code></pre><p>Like all Points, P is immutable, so you can&#39;t change its x or y coordinate directly. But it&#39;s easy to make new points based on existing ones.</p><p>Points can be added together:</p><pre><code class="language-none">julia&gt; Q = Point(4, 5)
Luxor.Point(4.0, 5.0)

julia&gt; P + Q
Luxor.Point(16.0, 18.0)</code></pre><p>You can add or multiply Points and scalars:</p><pre><code class="language-none">julia&gt; 10P
Luxor.Point(120.0, 130.0)

julia&gt; P + 100
Luxor.Point(112.0, 113.0)</code></pre><p>You can make new points by mixing Points and tuples:</p><pre><code class="language-none">julia&gt; P + (10, 0)
Luxor.Point(22.0, 13.0)

julia&gt; Q * (0.5, 0.5)
Luxor.Point(2.0, 2.5)</code></pre><p>You can use the letter <strong>O</strong> as a shortcut to refer to the current Origin, <code>Point(0, 0)</code>.</p><div><pre><code class="language-julia">axes()
box.([O + (i, 0) for i in linspace(0, 200, 5)], 20, 20, :stroke)</code></pre></div><p><img src="assets/figures/point-ex.png" alt="point example"/></p><p>Angles are mostly supplied in radians, measured starting at the positive x-axis turning towards the positive y-axis (which usually points &#39;down&#39; the page or canvas, so &#39;clockwise&#39;).</p><p>Coordinates are interpreted as PostScript points, where a point is 1/72 of an inch.</p><p>Because Julia allows you to combine numbers and variables directly, you can supply units with dimensions and have them converted to points (assuming the current scale is 1:1):</p><ul><li><p>inch (<code>in</code> is unavailable, being used by <code>for</code> syntax)</p></li><li><p>cm   (centimeters)</p></li><li><p>mm   (millimeters)</p></li></ul><p>For example:</p><pre><code class="language-none">rect(Point(20mm, 2cm), 5inch, (22/7)inch, :fill)</code></pre><h2><a class="nav-anchor" id="Drawings-and-files-1" href="#Drawings-and-files-1">Drawings and files</a></h2><p>To create a drawing, and optionally specify the filename and type, and dimensions, use the <code>Drawing</code> constructor function.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.Drawing" href="#Luxor.Drawing"><code>Luxor.Drawing</code></a> — <span class="docstring-category">Type</span>.</div><div><p>Create a new drawing, and optionally specify file type (PNG, PDF, SVG, or EPS) and dimensions.</p><pre><code class="language-none">Drawing()</code></pre><p>creates a drawing, defaulting to PNG format, default filename &quot;luxor-drawing.png&quot;, default size 800 pixels square.</p><p>You can specify dimensions, and use the default target filename:</p><pre><code class="language-none">Drawing(400, 300)</code></pre><p>creates a drawing 400 pixels wide by 300 pixels high, defaulting to PNG format, default filename &quot;luxor-drawing.png&quot;.</p><pre><code class="language-none">Drawing(400, 300, &quot;my-drawing.pdf&quot;)</code></pre><p>creates a PDF drawing in the file &quot;my-drawing.pdf&quot;, 400 by 300 pixels.</p><pre><code class="language-none">Drawing(1200, 800, &quot;my-drawing.svg&quot;)`</code></pre><p>creates an SVG drawing in the file &quot;my-drawing.svg&quot;, 1200 by 800 pixels.</p><pre><code class="language-none">Drawing(1200, 1200/golden, &quot;my-drawing.eps&quot;)</code></pre><p>creates an EPS drawing in the file &quot;my-drawing.eps&quot;, 1200 wide by 741.8 pixels (= 1200 ÷ ϕ) high.</p><pre><code class="language-none">Drawing(&quot;A4&quot;, &quot;my-drawing.pdf&quot;)</code></pre><p>creates a drawing in ISO A4 size (595 wide by 842 high) in the file &quot;my-drawing.pdf&quot;. Other sizes available are:  &quot;A0&quot;, &quot;A1&quot;, &quot;A2&quot;, &quot;A3&quot;, &quot;A4&quot;, &quot;A5&quot;, &quot;A6&quot;, &quot;Letter&quot;, &quot;Legal&quot;, &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;. Append &quot;landscape&quot; to get the landscape version.</p><pre><code class="language-none">Drawing(&quot;A4landscape&quot;)</code></pre><p>creates the drawing A4 landscape size.</p><p>PDF files default to a white background, but PNG defaults to transparent, unless you specify one using <code>background()</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaGraphics/Luxor.jl/tree/18f71b83cdbaeaf69755c67d657d48f15a8e2b1b/src/Luxor.jl#L200-L237">source</a><br/></section><p>To finish a drawing and close the file, use <code>finish()</code>, and, to launch an external application to view it, use <code>preview()</code>.</p><p>If you&#39;re using Jupyter (IJulia), <code>preview()</code> tries to display PNG and SVG files in the next notebook cell.</p><p><img src="assets/figures/jupyter.png" alt="jupyter"/></p><p>If you&#39;re using Juno, then PNG and SVG files should appear in the Plots pane.</p><p><img src="assets/figures/juno.png" alt="juno"/></p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.finish" href="#Luxor.finish"><code>Luxor.finish</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">finish()</code></pre><p>Finish the drawing, and close the file. You may be able to open it in an external viewer application with <code>preview()</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaGraphics/Luxor.jl/tree/18f71b83cdbaeaf69755c67d657d48f15a8e2b1b/src/Luxor.jl#L248-L253">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.preview" href="#Luxor.preview"><code>Luxor.preview</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">preview()</code></pre><p>If working in Jupyter (IJulia), display a PNG or SVG file in the notebook.</p><p>If working in Juno, display a PNG or SVG file in the Plot pane.</p><p>Otherwise:</p><ul><li><p>on macOS, open the file in the default application, which is probably the Preview.app for PNG and PDF, and Safari for SVG</p></li><li><p>on Unix, open the file with <code>xdg-open</code></p></li><li><p>on Windows, pass the filename to <code>explorer</code>.</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/JuliaGraphics/Luxor.jl/tree/18f71b83cdbaeaf69755c67d657d48f15a8e2b1b/src/Luxor.jl#L273-L286">source</a><br/></section><p>The global variable <code>currentdrawing</code> (of type Drawing) stores some parameters related to the current drawing:</p><pre><code class="language-none">julia&gt; fieldnames(currentdrawing)
10-element Array{Symbol,1}:
:width
:height
:filename
:surface
:cr
:surfacetype
:redvalue
:greenvalue
:bluevalue
:alpha</code></pre><h2><a class="nav-anchor" id="The-drawing-surface-1" href="#The-drawing-surface-1">The drawing surface</a></h2><p>The origin (0/0) starts off at the top left: the x axis runs left to right across the page, and the y axis runs top to bottom down the page.</p><p>The <code>origin()</code> function moves the 0/0 point to the center of the drawing. It&#39;s often convenient to do this at the beginning of a program. You can use functions like <code>scale()</code>, <code>rotate()</code>, and <code>translate()</code> to change the coordinate system.</p><p><code>background()</code> fills the drawing with a color, covering any previous contents. By default, PDF drawings have a white background, whereas PNG drawings have no background so that the background appears transparent in other applications. If there is a current clipping region, <code>background()</code> fills just that region. In the next example, the first <code>background()</code> fills the entire drawing with magenta, but the calls in the loop fill only the active clipping region, a tile defined by the <code>Tiler</code> iterator:</p><div><pre><code class="language-julia">background(&quot;magenta&quot;)
tiles = Tiler(600, 400, 5, 5, margin=30)
for (pos, n) in tiles
    box(pos, tiles.tilewidth, tiles.tileheight, :clip)
    background(randomhue()...)
    clipreset()
end</code></pre></div><p><img src="assets/figures/backgrounds.png" alt="background"/></p><p>The <code>axes()</code> function draws a couple of lines and text labels in light gray to indicate the position and orientation of the current axes.</p><div><pre><code class="language-julia">background(&quot;gray80&quot;)
origin()
axes()</code></pre></div><p><img src="assets/figures/axes.png" alt="axes"/></p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.background" href="#Luxor.background"><code>Luxor.background</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">background(color)</code></pre><p>Fill the canvas with a single color. Returns the (red, green, blue, alpha) values.</p><p>Examples:</p><pre><code class="language-none">background(&quot;antiquewhite&quot;)
background(&quot;ivory&quot;)</code></pre><p>If Colors.jl is installed:</p><pre><code class="language-none">background(RGB(0, 0, 0))
background(Luv(20, -20, 30))</code></pre><p>If you don&#39;t specify a background color for a PNG drawing, the background will be transparent. You can set a partly or completely transparent background for PNG files by passing a color with an alpha value, such as this &#39;transparent black&#39;:</p><pre><code class="language-none">background(RGBA(0, 0, 0, 0))</code></pre></div><a class="source-link" target="_blank" href="https://github.com/JuliaGraphics/Luxor.jl/tree/18f71b83cdbaeaf69755c67d657d48f15a8e2b1b/src/basics.jl#L89-L110">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.axes" href="#Luxor.axes"><code>Luxor.axes</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Draw and label two axes lines starting at <code>O</code>, the current 0/0, and continuing out along the current positive x and y axes.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaGraphics/Luxor.jl/tree/18f71b83cdbaeaf69755c67d657d48f15a8e2b1b/src/basics.jl#L70-L73">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.origin" href="#Luxor.origin"><code>Luxor.origin</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">origin()</code></pre><p>Reset the current matrix, and then set the 0/0 origin to the center of the drawing (otherwise it will stay at the top left corner, the default).</p><p>You can refer to the 0/0 point as <code>O</code>. (O = <code>Point(0, 0)</code>),</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaGraphics/Luxor.jl/tree/18f71b83cdbaeaf69755c67d657d48f15a8e2b1b/src/basics.jl#L1-L8">source</a><br/><div><pre><code class="language-none">origin(x, y)</code></pre><p>Reset the current matrix, then move the <code>0/0</code> position relative to the top left corner of the drawing.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaGraphics/Luxor.jl/tree/18f71b83cdbaeaf69755c67d657d48f15a8e2b1b/src/basics.jl#L14-L19">source</a><br/><div><pre><code class="language-none">origin(pt:Point)</code></pre><p>Reset the current matrix, then move the <code>0/0</code> position to <code>pt</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaGraphics/Luxor.jl/tree/18f71b83cdbaeaf69755c67d657d48f15a8e2b1b/src/basics.jl#L25-L29">source</a><br/></section><h2><a class="nav-anchor" id="Tiles-and-partitions-1" href="#Tiles-and-partitions-1">Tiles and partitions</a></h2><p>The drawing area (or any other area) can be divided into rectangular tiles (as rows and columns) using the <code>Tiler</code> iterator, which returns the center point and tile number of each tile in turn.</p><p>In this example, every third tile is divided up into subtiles and colored:</p><div><pre><code class="language-julia">tiles = Tiler(400, 300, 4, 5, margin=5)
for (pos, n) in tiles
    randomhue()
    box(pos, tiles.tilewidth, tiles.tileheight, :fill)
    if n % 3 == 0
        gsave()
        translate(pos)
        subtiles = Tiler(tiles.tilewidth, tiles.tileheight, 4, 4, margin=5)
        for (pos1, n1) in subtiles
            randomhue()
            box(pos1, subtiles.tilewidth, subtiles.tileheight, :fill)
        end
        grestore()
    end
    sethue(&quot;white&quot;)
    textcentered(string(n), pos + Point(0, 5))
end</code></pre></div><p><img src="assets/figures/tiler.png" alt="tiler"/></p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.Tiler" href="#Luxor.Tiler"><code>Luxor.Tiler</code></a> — <span class="docstring-category">Type</span>.</div><div><pre><code class="language-none">tiles = Tiler(areawidth, areaheight, nrows, ncols, margin=20)</code></pre><p>A Tiler is an iterator that, for each iteration, returns a tuple of:</p><ul><li><p>the <code>x</code>/<code>y</code> point of the center of each tile in a set of tiles that divide up a rectangular space such as a page into rows and columns (relative to current 0/0)</p></li><li><p>the number of the tile</p></li></ul><p><code>areawidth</code> and <code>areaheight</code> are the dimensions of the area to be tiled, <code>nrows</code>/<code>ncols</code> are the number of rows and columns required, and <code>margin</code> is applied to all four edges of the area before the function calculates the tile sizes required.</p><p>Tiler and Partition are similar:</p><ul><li><p>Partition lets you specify the width and height of a cell</p></li><li><p>Tiler lets you specify how many rows and columns of cells you want, and a margin</p><p>tiles = Tiler(1000, 800, 4, 5, margin=20)   for (pos, n) in tiles       # the point pos is the center of the tile   end</p></li></ul><p>You can access the calculated tile width and height like this:</p><pre><code class="language-none">tiles = Tiler(1000, 800, 4, 5, margin=20)
for (pos, n) in tiles
    ellipse(pos.x, pos.y, tiles.tilewidth, tiles.tileheight, :fill)
end</code></pre><p>It&#39;s sometimes useful to know which row and column you&#39;re currently on:</p><pre><code class="language-none">tiles.currentrow
tiles.currentcol</code></pre><p>should have that information for you.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaGraphics/Luxor.jl/tree/18f71b83cdbaeaf69755c67d657d48f15a8e2b1b/src/tiles-grids.jl#L1-L39">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.Partition" href="#Luxor.Partition"><code>Luxor.Partition</code></a> — <span class="docstring-category">Type</span>.</div><div><pre><code class="language-none">p = Partition(areawidth, areaheight, tilewidth, tileheight)</code></pre><p>A Partition is an iterator that, for each iteration, returns a tuple of:</p><ul><li><p>the <code>x</code>/<code>y</code> point of the center of each tile in a set of tiles that divide up a</p></li></ul><p>rectangular space such as a page into rows and columns (relative to current 0/0)</p><ul><li><p>the number of the tile</p></li></ul><p><code>areawidth</code> and <code>areaheight</code> are the dimensions of the area to be tiled, <code>tilewidth</code>/<code>tileheight</code> are the dimensions of the tiles.</p><p>Tiler and Partition are similar:</p><ul><li><p>Partition lets you specify the width and height of a cell</p></li><li><p>Tiler lets you specify how many rows and columns of cells you want, and a margin</p></li></ul><pre><code class="language-none">tiles = Partition(1200, 1200, 30, 30)
for (pos, n) in tiles
    # the point pos is the center of the tile
end</code></pre><p>You can access the calculated tile width and height like this:</p><pre><code class="language-none">tiles = Partition(1200, 1200, 30, 30)
for (pos, n) in tiles
    ellipse(pos.x, pos.y, tiles.tilewidth, tiles.tileheight, :fill)
end</code></pre><p>It&#39;s sometimes useful to know which row and column you&#39;re currently on:</p><pre><code class="language-none">tiles.currentrow
tiles.currentcol</code></pre><p>should have that information for you.</p><p>Unless the tilewidth and tileheight are exact multiples of the area width and height, you&#39;ll see a border at the right and bottom where the tiles won&#39;t fit.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaGraphics/Luxor.jl/tree/18f71b83cdbaeaf69755c67d657d48f15a8e2b1b/src/tiles-grids.jl#L226-L267">source</a><br/></section><h2><a class="nav-anchor" id="Save-and-restore-1" href="#Save-and-restore-1">Save and restore</a></h2><p><code>gsave()</code> saves a copy of the current graphics settings (current axis rotation, position, scale, line and text settings, color, and so on). When the next <code>grestore()</code> is called, all changes you&#39;ve made to the graphics settings will be discarded, and they&#39;ll return to how they were when you last used <code>gsave()</code>. <code>gsave()</code> and <code>grestore()</code> should always be balanced in pairs.</p><p>As a convenient shorthand, you can use the macro <code>@layer begin ... end</code> to enclose graphics commands.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.gsave" href="#Luxor.gsave"><code>Luxor.gsave</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">gsave()</code></pre><p>Save the current color settings on the stack.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaGraphics/Luxor.jl/tree/18f71b83cdbaeaf69755c67d657d48f15a8e2b1b/src/basics.jl#L395-L399">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.grestore" href="#Luxor.grestore"><code>Luxor.grestore</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">grestore()</code></pre><p>Replace the current graphics state with the one on top of the stack.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaGraphics/Luxor.jl/tree/18f71b83cdbaeaf69755c67d657d48f15a8e2b1b/src/basics.jl#L413-L417">source</a><br/></section><footer><hr/><a class="previous" href="examples.html"><span class="direction">Previous</span><span class="title">A few examples</span></a><a class="next" href="simplegraphics.html"><span class="direction">Next</span><span class="title">Simple graphics</span></a></footer></article></body></html>
